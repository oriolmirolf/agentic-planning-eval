{
  "domain_prompt": "You are a planning agent that manages load balancing and autoscaling of services across servers.\n\nPrimitive actions you can use:\n- (power-on SERVER)\n- (power-off SERVER)\n- (start-service SERVER SERVICE)\n- (stop-service SERVER SERVICE)\n- (assign-bucket BUCKET SERVER REGION SERVICE)\n- (unassign-bucket BUCKET SERVER)\n\nSemantics and constraints:\n- Each bucket belongs to a region and requires a service.\n- Each server belongs to exactly one region and has a fixed capacity (maximum number of buckets it can handle).\n- (power-on s) turns a server online.\n- (power-off s) turns a server offline; you may only power off a server whose current load is zero (no buckets assigned).\n- (start-service s svc) makes server s run the given service (only if s is online).\n- (stop-service s svc) stops that service on s.\n- (assign-bucket b s r svc) assigns bucket b to server s if:\n  - b is currently unassigned,\n  - s is online,\n  - b and s are in the same region r,\n  - b requires service svc and s runs svc,\n  - load(s) is strictly less than capacity(s).\n  The effect is that b becomes assigned to s and load(s) increases by 1.\n- (unassign-bucket b s) removes bucket b from server s, making b unassigned and decreasing load(s) by 1.\n\nYour job is to read the problem description, reason about regions, services, servers, capacities, and traffic buckets, and then produce a valid plan that achieves the stated goal state while respecting all constraints at every step.\n\nOutput format:\n- Return only the list of primitive actions, one per line.\n- Do not include explanations or comments.\n- Use exactly the action names and argument symbols given in the problem (for example s1_us, eu_west, web, b3).",
  "actions": [
    {
      "name": "power-on",
      "signature": "power-on(SERVER)",
      "parameters": [
        { "name": "SERVER", "kind": "server" }
      ],
      "preconditions": [
        "SERVER is currently offline."
      ],
      "effects": [
        "SERVER becomes online."
      ],
      "cost": 1
    },
    {
      "name": "power-off",
      "signature": "power-off(SERVER)",
      "parameters": [
        { "name": "SERVER", "kind": "server" }
      ],
      "preconditions": [
        "SERVER is online.",
        "SERVER has zero load (no buckets assigned to it)."
      ],
      "effects": [
        "SERVER becomes offline."
      ],
      "cost": 1
    },
    {
      "name": "start-service",
      "signature": "start-service(SERVER, SERVICE)",
      "parameters": [
        { "name": "SERVER", "kind": "server" },
        { "name": "SERVICE", "kind": "service" }
      ],
      "preconditions": [
        "SERVER is online.",
        "SERVER is not currently running SERVICE."
      ],
      "effects": [
        "SERVER runs SERVICE."
      ],
      "cost": 1
    },
    {
      "name": "stop-service",
      "signature": "stop-service(SERVER, SERVICE)",
      "parameters": [
        { "name": "SERVER", "kind": "server" },
        { "name": "SERVICE", "kind": "service" }
      ],
      "preconditions": [
        "SERVER is online.",
        "SERVER is currently running SERVICE."
      ],
      "effects": [
        "SERVER stops running SERVICE."
      ],
      "cost": 1
    },
    {
      "name": "assign-bucket",
      "signature": "assign-bucket(BUCKET, SERVER, REGION, SERVICE)",
      "parameters": [
        { "name": "BUCKET", "kind": "bucket" },
        { "name": "SERVER", "kind": "server" },
        { "name": "REGION", "kind": "region" },
        { "name": "SERVICE", "kind": "service" }
      ],
      "preconditions": [
        "BUCKET is currently unassigned.",
        "SERVER is online.",
        "BUCKET belongs to REGION.",
        "SERVER belongs to REGION.",
        "BUCKET requires SERVICE.",
        "SERVER is running SERVICE.",
        "SERVER has available capacity (load(SERVER) < capacity(SERVER))."
      ],
      "effects": [
        "BUCKET becomes assigned to SERVER.",
        "BUCKET is no longer unassigned.",
        "load(SERVER) increases by 1."
      ],
      "cost": 1
    },
    {
      "name": "unassign-bucket",
      "signature": "unassign-bucket(BUCKET, SERVER)",
      "parameters": [
        { "name": "BUCKET", "kind": "bucket" },
        { "name": "SERVER", "kind": "server" }
      ],
      "preconditions": [
        "BUCKET is currently assigned to SERVER."
      ],
      "effects": [
        "BUCKET becomes unassigned.",
        "BUCKET is no longer assigned to SERVER.",
        "load(SERVER) decreases by 1."
      ],
      "cost": 1
    }
  ],
  "problems": [
    {
      "id": "p01",
      "prompt": "Region: eu_west.\nService: search.\n\nServers:\n- s1_eu: region eu_west, capacity 3, online, runs search.\n- s2_eu: region eu_west, capacity 3, online, runs search.\n\nBuckets (all in eu_west, all require search):\n- b1, b2, b3.\n\nInitial state:\n- b1 is assigned to s1_eu.\n- b2 is assigned to s2_eu.\n- b3 is unassigned.\n\nGoal:\n- All three buckets must be assigned to servers in eu_west that run search.\n- All traffic should be consolidated onto a single server if possible.\n- In the final state, s2_eu must be powered off and carry no traffic.\n\nProduce a valid plan using the primitive actions (power-on, power-off, start-service, stop-service, assign-bucket, unassign-bucket), one action per line.",
      "overview": {
        "description": "Consolidate traffic in eu_west onto a single search-capable server and decommission the other server safely.",
        "initial_state": "Two online servers (s1_eu, s2_eu) in eu_west running search with capacity 3 each. b1 assigned to s1_eu, b2 assigned to s2_eu, b3 unassigned.",
        "goal": "All buckets (b1, b2, b3) assigned to online eu_west servers that run search; traffic consolidated onto one server if possible; s2_eu powered off with zero load."
      },
      "objects": [
        { "name": "eu_west", "kind": "region", "summary": "EU West region.", "attributes": {} },
        { "name": "search", "kind": "service", "summary": "Search service.", "attributes": {} },
        { "name": "s1_eu", "kind": "server", "summary": "Server s1 in eu_west.", "attributes": { "region": "eu_west", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "s2_eu", "kind": "server", "summary": "Server s2 in eu_west.", "attributes": { "region": "eu_west", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "b1", "kind": "bucket", "summary": "Traffic bucket b1.", "attributes": { "region": "eu_west", "requires_service": "search", "initial_assignment": "s1_eu" } },
        { "name": "b2", "kind": "bucket", "summary": "Traffic bucket b2.", "attributes": { "region": "eu_west", "requires_service": "search", "initial_assignment": "s2_eu" } },
        { "name": "b3", "kind": "bucket", "summary": "Traffic bucket b3.", "attributes": { "region": "eu_west", "requires_service": "search", "initial_assignment": "unassigned" } }
      ],
      "optimal_cost": 4,
      "difficulty": "Easy"
    },
    {
      "id": "p02",
      "prompt": "Region: us_east.\nServices: payments, search.\n\nServers:\n- s1_us: region us_east, capacity 3, online, runs payments.\n- s2_us: region us_east, capacity 3, online, runs search.\n\nBuckets (all in us_east):\n- b1: requires payments.\n- b2: requires payments.\n- b3: requires search.\n\nInitial state:\n- No buckets are assigned.\n\nGoal:\n- Every bucket is assigned to a server in us_east that runs the required service.\n- No server exceeds its capacity.\n- You do not need to change which services run on which servers unless necessary.\n\nProduce a valid plan as a list of primitive actions, one per line.",
      "overview": {
        "description": "Assign unassigned buckets in us_east to servers that already run the required services without exceeding capacity.",
        "initial_state": "Two online servers in us_east: s1_us runs payments, s2_us runs search, capacity 3 each. All buckets (b1, b2, b3) unassigned.",
        "goal": "b1 and b2 assigned to a us_east server running payments; b3 assigned to a us_east server running search; capacities respected."
      },
      "objects": [
        { "name": "us_east", "kind": "region", "summary": "US East region.", "attributes": {} },
        { "name": "payments", "kind": "service", "summary": "Payments service.", "attributes": {} },
        { "name": "search", "kind": "service", "summary": "Search service.", "attributes": {} },
        { "name": "s1_us", "kind": "server", "summary": "Payments server in us_east.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["payments"] } },
        { "name": "s2_us", "kind": "server", "summary": "Search server in us_east.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "b1", "kind": "bucket", "summary": "Payments bucket b1.", "attributes": { "region": "us_east", "requires_service": "payments", "initial_assignment": "unassigned" } },
        { "name": "b2", "kind": "bucket", "summary": "Payments bucket b2.", "attributes": { "region": "us_east", "requires_service": "payments", "initial_assignment": "unassigned" } },
        { "name": "b3", "kind": "bucket", "summary": "Search bucket b3.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "unassigned" } }
      ],
      "optimal_cost": 3,
      "difficulty": "Easy"
    },
    {
      "id": "p03",
      "prompt": "Region: ap_south.\nServices: analytics, search.\n\nServers:\n- s1_ap: region ap_south, capacity 3, online, initially runs search only.\n\nBuckets (all in ap_south):\n- b1: requires analytics.\n- b2: requires search.\n\nInitial state:\n- b1 and b2 are unassigned.\n- s1_ap is online and runs search but not analytics.\n\nGoal:\n- Both buckets must be assigned to s1_ap.\n- b1 must be handled by analytics, b2 by search.\n- Capacity and all other constraints must be respected.\n\nProduce a valid plan (for example by starting analytics on s1_ap and assigning both buckets), as a sequence of primitive actions.",
      "overview": {
        "description": "Enable analytics on the only server and assign both buckets to it while meeting per-bucket service requirements.",
        "initial_state": "One server s1_ap in ap_south is online, capacity 3, running search only. Buckets b1 (analytics) and b2 (search) are unassigned.",
        "goal": "b1 and b2 assigned to s1_ap; s1_ap runs analytics (for b1) and search (for b2); capacity respected."
      },
      "objects": [
        { "name": "ap_south", "kind": "region", "summary": "AP South region.", "attributes": {} },
        { "name": "analytics", "kind": "service", "summary": "Analytics service.", "attributes": {} },
        { "name": "search", "kind": "service", "summary": "Search service.", "attributes": {} },
        { "name": "s1_ap", "kind": "server", "summary": "Single server in ap_south.", "attributes": { "region": "ap_south", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "b1", "kind": "bucket", "summary": "Analytics bucket b1.", "attributes": { "region": "ap_south", "requires_service": "analytics", "initial_assignment": "unassigned" } },
        { "name": "b2", "kind": "bucket", "summary": "Search bucket b2.", "attributes": { "region": "ap_south", "requires_service": "search", "initial_assignment": "unassigned" } }
      ],
      "optimal_cost": 3,
      "difficulty": "Easy"
    },
    {
      "id": "p04",
      "prompt": "Region: eu_west.\nService: web.\n\nServers (capacity 2 each):\n- s1_eu: region eu_west, online, runs web.\n- s2_eu: region eu_west, online, runs web.\n- s3_eu: region eu_west, offline, runs nothing initially.\n\nBuckets (all in eu_west, all require web):\n- b1, b2, b3, b4.\n\nInitial state:\n- b1 and b2 are assigned to s1_eu (s1_eu is full).\n- b3 and b4 are assigned to s2_eu (s2_eu is full).\n- s3_eu is powered off.\n\nGoal:\n- All four buckets must remain served by web in eu_west.\n- Server s2_eu must be drained of traffic and powered off in the final state.\n- At no point may any server exceed its capacity of 2 buckets.\n\nProduce a valid plan that may power on s3_eu, move buckets, and shut down s2_eu, using the primitive actions.",
      "overview": {
        "description": "Introduce capacity using s3_eu to drain s2_eu and power it off while keeping all web buckets served and never exceeding per-server capacity.",
        "initial_state": "In eu_west: s1_eu and s2_eu are online running web with capacity 2 each and both are full (2 buckets each). s3_eu is offline. b1,b2 on s1_eu; b3,b4 on s2_eu.",
        "goal": "All four buckets served by web in eu_west; s2_eu drained and powered off with load 0; capacities respected at every step."
      },
      "objects": [
        { "name": "eu_west", "kind": "region", "summary": "EU West region.", "attributes": {} },
        { "name": "web", "kind": "service", "summary": "Web service.", "attributes": {} },
        { "name": "s1_eu", "kind": "server", "summary": "Online web server s1_eu.", "attributes": { "region": "eu_west", "capacity": 2, "initial_online": true, "initial_services": ["web"] } },
        { "name": "s2_eu", "kind": "server", "summary": "Online web server s2_eu to be decommissioned.", "attributes": { "region": "eu_west", "capacity": 2, "initial_online": true, "initial_services": ["web"] } },
        { "name": "s3_eu", "kind": "server", "summary": "Offline server that can be powered on to add capacity.", "attributes": { "region": "eu_west", "capacity": 2, "initial_online": false, "initial_services": [] } },
        { "name": "b1", "kind": "bucket", "summary": "Web bucket b1.", "attributes": { "region": "eu_west", "requires_service": "web", "initial_assignment": "s1_eu" } },
        { "name": "b2", "kind": "bucket", "summary": "Web bucket b2.", "attributes": { "region": "eu_west", "requires_service": "web", "initial_assignment": "s1_eu" } },
        { "name": "b3", "kind": "bucket", "summary": "Web bucket b3.", "attributes": { "region": "eu_west", "requires_service": "web", "initial_assignment": "s2_eu" } },
        { "name": "b4", "kind": "bucket", "summary": "Web bucket b4.", "attributes": { "region": "eu_west", "requires_service": "web", "initial_assignment": "s2_eu" } }
      ],
      "optimal_cost": 7,
      "difficulty": "Medium"
    },
    {
      "id": "p05",
      "prompt": "Regions: us_east, eu_west.\nService: search.\n\nServers:\n- s1_us: region us_east, capacity 3, online, runs search.\n- s2_eu: region eu_west, capacity 2, online, runs search.\n- s3_eu: region eu_west, capacity 2, offline, runs nothing initially.\n\nBuckets:\n- b1, b2: require search in us_east.\n- b3, b4: require search in eu_west.\n\nInitial state:\n- b1 is assigned to s1_us (correct region).\n- b3 is incorrectly assigned to s1_us in us_east (wrong region for b3).\n- b2 and b4 are unassigned.\n\nGoal:\n- Each bucket must be served by a server in its own region that runs search.\n- Prefer to satisfy all eu_west buckets using s2_eu if its capacity allows.\n- No server may exceed its capacity at any time.\n\nProduce a valid plan that fixes the cross-region misrouting and assigns all buckets appropriately, using the primitive actions.",
      "overview": {
        "description": "Fix cross-region misrouting and assign all buckets to correct-region search servers while preferring s2_eu for eu_west if capacity allows.",
        "initial_state": "s1_us (us_east) online runs search cap 3; s2_eu (eu_west) online runs search cap 2; s3_eu (eu_west) offline. b1 on s1_us, b3 incorrectly on s1_us, b2 and b4 unassigned.",
        "goal": "Each bucket served in its own region by a server running search; prefer placing eu_west buckets on s2_eu if within cap; never exceed capacity."
      },
      "objects": [
        { "name": "us_east", "kind": "region", "summary": "US East region.", "attributes": {} },
        { "name": "eu_west", "kind": "region", "summary": "EU West region.", "attributes": {} },
        { "name": "search", "kind": "service", "summary": "Search service.", "attributes": {} },
        { "name": "s1_us", "kind": "server", "summary": "Search server in us_east.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "s2_eu", "kind": "server", "summary": "Search server in eu_west.", "attributes": { "region": "eu_west", "capacity": 2, "initial_online": true, "initial_services": ["search"] } },
        { "name": "s3_eu", "kind": "server", "summary": "Offline server in eu_west.", "attributes": { "region": "eu_west", "capacity": 2, "initial_online": false, "initial_services": [] } },
        { "name": "b1", "kind": "bucket", "summary": "us_east search bucket b1.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "s1_us" } },
        { "name": "b2", "kind": "bucket", "summary": "us_east search bucket b2.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "unassigned" } },
        { "name": "b3", "kind": "bucket", "summary": "eu_west search bucket b3 (misrouted).", "attributes": { "region": "eu_west", "requires_service": "search", "initial_assignment": "s1_us" } },
        { "name": "b4", "kind": "bucket", "summary": "eu_west search bucket b4.", "attributes": { "region": "eu_west", "requires_service": "search", "initial_assignment": "unassigned" } }
      ],
      "optimal_cost": 4,
      "difficulty": "Medium"
    },
    {
      "id": "p06",
      "prompt": "Region: us_east.\nServices: payments, search.\n\nServers (capacity 3 each):\n- s1_us: region us_east, online, runs payments only.\n- s2_us: region us_east, online, runs search only.\n\nBuckets (all in us_east):\n- b1, b2: require payments.\n- b3, b4: require search.\n\nInitial state:\n- b1 and b2 are assigned to s1_us (load 2, one free slot).\n- b3 is assigned to s2_us (load 1, two free slots).\n- b4 is unassigned.\n\nGoal:\n- All four buckets must be served in us_east by servers running the correct service.\n- In the final state, all buckets should run on s1_us only, and s2_us must be powered off.\n- Capacity constraints must be respected at all times.\n\nProduce a valid plan that starts search on s1_us, migrates traffic, and safely powers off s2_us.",
      "overview": {
        "description": "Enable search on s1_us, migrate all search buckets from s2_us to s1_us, then drain and power off s2_us without exceeding capacity.",
        "initial_state": "us_east: s1_us online runs payments cap 3 with b1,b2 assigned; s2_us online runs search cap 3 with b3 assigned; b4 unassigned and requires search.",
        "goal": "All buckets served in us_east by correct service; final state has all buckets on s1_us only; s2_us powered off with load 0; capacity respected throughout."
      },
      "objects": [
        { "name": "us_east", "kind": "region", "summary": "US East region.", "attributes": {} },
        { "name": "payments", "kind": "service", "summary": "Payments service.", "attributes": {} },
        { "name": "search", "kind": "service", "summary": "Search service.", "attributes": {} },
        { "name": "s1_us", "kind": "server", "summary": "Payments server to become consolidated host.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["payments"] } },
        { "name": "s2_us", "kind": "server", "summary": "Search server to be drained and powered off.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "b1", "kind": "bucket", "summary": "Payments bucket b1.", "attributes": { "region": "us_east", "requires_service": "payments", "initial_assignment": "s1_us" } },
        { "name": "b2", "kind": "bucket", "summary": "Payments bucket b2.", "attributes": { "region": "us_east", "requires_service": "payments", "initial_assignment": "s1_us" } },
        { "name": "b3", "kind": "bucket", "summary": "Search bucket b3.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "s2_us" } },
        { "name": "b4", "kind": "bucket", "summary": "Search bucket b4.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "unassigned" } }
      ],
      "optimal_cost": 5,
      "difficulty": "Medium"
    },
    {
      "id": "p07",
      "prompt": "Region: eu_central.\nService: web.\n\nServers (capacity 3 each, all initially online and running web):\n- s1_eu, s2_eu, s3_eu.\n\nBuckets (all in eu_central, all require web):\n- b1, b2, b3, b4, b5.\n\nInitial state:\n- b1, b2, b3 are assigned to s1_eu (s1_eu is full).\n- b4 is assigned to s2_eu (load 1).\n- b5 is assigned to s3_eu (load 1).\n\nGoal:\n- All five buckets must remain served by web in eu_central.\n- Server s3_eu must be completely drained of traffic and powered off in the final state.\n- Other servers must not exceed their capacity of 3 buckets at any point.\n\nProduce a valid plan that redistributes buckets across s1_eu and s2_eu and then powers off s3_eu.",
      "overview": {
        "description": "Redistribute web buckets in eu_central to drain s3_eu and power it off while keeping all buckets served and respecting capacity constraints.",
        "initial_state": "eu_central: s1_eu,s2_eu,s3_eu online running web cap 3 each. s1_eu hosts b1,b2,b3 (full). s2_eu hosts b4. s3_eu hosts b5.",
        "goal": "All five buckets served by web in eu_central; s3_eu drained and powered off with load 0; other servers never exceed capacity 3."
      },
      "objects": [
        { "name": "eu_central", "kind": "region", "summary": "EU Central region.", "attributes": {} },
        { "name": "web", "kind": "service", "summary": "Web service.", "attributes": {} },
        { "name": "s1_eu", "kind": "server", "summary": "Online web server s1_eu.", "attributes": { "region": "eu_central", "capacity": 3, "initial_online": true, "initial_services": ["web"] } },
        { "name": "s2_eu", "kind": "server", "summary": "Online web server s2_eu.", "attributes": { "region": "eu_central", "capacity": 3, "initial_online": true, "initial_services": ["web"] } },
        { "name": "s3_eu", "kind": "server", "summary": "Online web server to be decommissioned.", "attributes": { "region": "eu_central", "capacity": 3, "initial_online": true, "initial_services": ["web"] } },
        { "name": "b1", "kind": "bucket", "summary": "Web bucket b1.", "attributes": { "region": "eu_central", "requires_service": "web", "initial_assignment": "s1_eu" } },
        { "name": "b2", "kind": "bucket", "summary": "Web bucket b2.", "attributes": { "region": "eu_central", "requires_service": "web", "initial_assignment": "s1_eu" } },
        { "name": "b3", "kind": "bucket", "summary": "Web bucket b3.", "attributes": { "region": "eu_central", "requires_service": "web", "initial_assignment": "s1_eu" } },
        { "name": "b4", "kind": "bucket", "summary": "Web bucket b4.", "attributes": { "region": "eu_central", "requires_service": "web", "initial_assignment": "s2_eu" } },
        { "name": "b5", "kind": "bucket", "summary": "Web bucket b5.", "attributes": { "region": "eu_central", "requires_service": "web", "initial_assignment": "s3_eu" } }
      ],
      "optimal_cost": 3,
      "difficulty": "Medium"
    },
    {
      "id": "p08",
      "prompt": "Regions: us_east, eu_west.\nServices: search, ads.\n\nServers (capacity 3 each):\n- s1_us: region us_east, online, runs search only.\n- s2_us: region us_east, online, runs search and ads.\n- s3_eu: region eu_west, online, runs search only.\n- s4_eu: region eu_west, offline, runs nothing initially.\n\nBuckets:\n- b1, b2: search buckets in us_east.\n- b3: ads bucket in us_east.\n- b4, b5: search buckets in eu_west.\n- b6: ads bucket in eu_west.\n\nInitial state:\n- b1 is assigned to s1_us.\n- b2 and b3 are assigned to s2_us.\n- b4 is incorrectly assigned to s1_us (it should be in eu_west).\n- b5 and b6 are unassigned.\n\nGoal:\n- All buckets must be served in their own region by servers running the correct service.\n- In the final state, s1_us must be fully drained and powered off (us_east should rely on s2_us only).\n- In eu_west, decide whether to rely only on s3_eu or to power on and configure s4_eu, but all three eu_west buckets (b4, b5, b6) must be served.\n- No server may exceed its capacity at any time.\n\nProduce a valid plan of primitive actions that fixes cross-region misrouting, introduces any needed ads service in eu_west, and decommissions s1_us.",
      "overview": {
        "description": "Fix cross-region misrouting, ensure ads capability exists in eu_west, and decommission s1_us while serving all buckets in correct regions within capacity.",
        "initial_state": "us_east: s1_us online runs search; s2_us online runs search+ads. eu_west: s3_eu online runs search; s4_eu offline. b1 on s1_us; b2,b3 on s2_us; b4 misrouted on s1_us; b5,b6 unassigned.",
        "goal": "All buckets served in correct region by correct service; final state has s1_us drained and powered off; all eu_west buckets (b4,b5,b6) served; never exceed capacity."
      },
      "objects": [
        { "name": "us_east", "kind": "region", "summary": "US East region.", "attributes": {} },
        { "name": "eu_west", "kind": "region", "summary": "EU West region.", "attributes": {} },
        { "name": "search", "kind": "service", "summary": "Search service.", "attributes": {} },
        { "name": "ads", "kind": "service", "summary": "Ads service.", "attributes": {} },
        { "name": "s1_us", "kind": "server", "summary": "Search-only server to be decommissioned.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "s2_us", "kind": "server", "summary": "Search+ads server to keep for us_east.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["search", "ads"] } },
        { "name": "s3_eu", "kind": "server", "summary": "Search-only server in eu_west.", "attributes": { "region": "eu_west", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "s4_eu", "kind": "server", "summary": "Offline server in eu_west (may be powered on and configured).", "attributes": { "region": "eu_west", "capacity": 3, "initial_online": false, "initial_services": [] } },
        { "name": "b1", "kind": "bucket", "summary": "us_east search bucket b1.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "s1_us" } },
        { "name": "b2", "kind": "bucket", "summary": "us_east search bucket b2.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "s2_us" } },
        { "name": "b3", "kind": "bucket", "summary": "us_east ads bucket b3.", "attributes": { "region": "us_east", "requires_service": "ads", "initial_assignment": "s2_us" } },
        { "name": "b4", "kind": "bucket", "summary": "eu_west search bucket b4 (misrouted).", "attributes": { "region": "eu_west", "requires_service": "search", "initial_assignment": "s1_us" } },
        { "name": "b5", "kind": "bucket", "summary": "eu_west search bucket b5.", "attributes": { "region": "eu_west", "requires_service": "search", "initial_assignment": "unassigned" } },
        { "name": "b6", "kind": "bucket", "summary": "eu_west ads bucket b6.", "attributes": { "region": "eu_west", "requires_service": "ads", "initial_assignment": "unassigned" } }
      ],
      "optimal_cost": 8,
      "difficulty": "Hard"
    },
    {
      "id": "p09",
      "prompt": "Regions: us_east, ap_south.\nServices: payments, search, analytics.\n\nServers:\n- s1_us: region us_east, capacity 4, online, runs payments and search.\n- s2_us: region us_east, capacity 2, online, runs analytics.\n- s3_ap: region ap_south, capacity 3, online, runs search only.\n- s4_ap: region ap_south, capacity 3, offline, runs nothing initially.\n\nBuckets:\n- b1, b2: payments buckets in us_east.\n- b3: analytics bucket in us_east.\n- b4, b5: search buckets in us_east.\n- b6: search bucket in ap_south.\n- b7: payments bucket in ap_south.\n\nInitial state:\n- b1 and b4 are assigned to s1_us.\n- b2 and b3 are assigned to s2_us (s2_us is full).\n- b5 is incorrectly assigned to s3_ap (it should be in us_east).\n- b6 is unassigned.\n- b7 is incorrectly assigned to s1_us (it should be in ap_south).\n\nGoal:\n- All buckets must be served in their correct regions by servers running the correct services.\n- Analytics should only run where it is needed for us_east traffic.\n- Payments must be available in both regions, so ap_south must end up with at least one server running payments.\n- In the final state, no server should host more than 3 buckets, even if its capacity is 4, and capacity constraints must hold throughout.\n\nProduce a valid plan that fixes misrouted buckets, introduces payments capability in ap_south, and rebalances load without overloading any server.",
      "overview": {
        "description": "Fix misrouted buckets across us_east and ap_south, ensure payments capability exists in ap_south, keep analytics only where needed, and rebalance so no server hosts more than 3 buckets in the final state.",
        "initial_state": "us_east: s1_us online runs payments+search cap 4; s2_us online runs analytics cap 2 and is full. ap_south: s3_ap online runs search cap 3; s4_ap offline. b1,b4 on s1_us; b2,b3 on s2_us; b5 misrouted on s3_ap; b6 unassigned; b7 misrouted on s1_us.",
        "goal": "All buckets served in correct region by correct service; payments available in ap_south via some server running payments; analytics only where needed for us_east; final: no server hosts >3 buckets; capacity respected throughout."
      },
      "objects": [
        { "name": "us_east", "kind": "region", "summary": "US East region.", "attributes": {} },
        { "name": "ap_south", "kind": "region", "summary": "AP South region.", "attributes": {} },
        { "name": "payments", "kind": "service", "summary": "Payments service.", "attributes": {} },
        { "name": "search", "kind": "service", "summary": "Search service.", "attributes": {} },
        { "name": "analytics", "kind": "service", "summary": "Analytics service.", "attributes": {} },
        { "name": "s1_us", "kind": "server", "summary": "us_east server running payments and search.", "attributes": { "region": "us_east", "capacity": 4, "initial_online": true, "initial_services": ["payments", "search"] } },
        { "name": "s2_us", "kind": "server", "summary": "us_east analytics server (capacity 2).", "attributes": { "region": "us_east", "capacity": 2, "initial_online": true, "initial_services": ["analytics"] } },
        { "name": "s3_ap", "kind": "server", "summary": "ap_south search server.", "attributes": { "region": "ap_south", "capacity": 3, "initial_online": true, "initial_services": ["search"] } },
        { "name": "s4_ap", "kind": "server", "summary": "ap_south offline server (may be powered on/configured).", "attributes": { "region": "ap_south", "capacity": 3, "initial_online": false, "initial_services": [] } },
        { "name": "b1", "kind": "bucket", "summary": "us_east payments bucket b1.", "attributes": { "region": "us_east", "requires_service": "payments", "initial_assignment": "s1_us" } },
        { "name": "b2", "kind": "bucket", "summary": "us_east payments bucket b2.", "attributes": { "region": "us_east", "requires_service": "payments", "initial_assignment": "s2_us" } },
        { "name": "b3", "kind": "bucket", "summary": "us_east analytics bucket b3.", "attributes": { "region": "us_east", "requires_service": "analytics", "initial_assignment": "s2_us" } },
        { "name": "b4", "kind": "bucket", "summary": "us_east search bucket b4.", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "s1_us" } },
        { "name": "b5", "kind": "bucket", "summary": "us_east search bucket b5 (misrouted initially).", "attributes": { "region": "us_east", "requires_service": "search", "initial_assignment": "s3_ap" } },
        { "name": "b6", "kind": "bucket", "summary": "ap_south search bucket b6.", "attributes": { "region": "ap_south", "requires_service": "search", "initial_assignment": "unassigned" } },
        { "name": "b7", "kind": "bucket", "summary": "ap_south payments bucket b7 (misrouted initially).", "attributes": { "region": "ap_south", "requires_service": "payments", "initial_assignment": "s1_us" } }
      ],
      "optimal_cost": 8,
      "difficulty": "Hard"
    },
    {
      "id": "p10",
      "prompt": "Regions: us_east, eu_west, ap_south.\nServices: web, api.\n\nServers (capacity 3 each):\n- s1_us: region us_east, online, runs web and api.\n- s2_us: region us_east, online, runs web only.\n- s3_eu: region eu_west, online, runs web and api.\n- s4_eu: region eu_west, offline, runs nothing initially.\n- s5_ap: region ap_south, online, runs web only.\n- s6_ap: region ap_south, offline, runs nothing initially.\n\nBuckets:\n- us_east: b1, b2 (web), b3 (api).\n- eu_west: b4 (web), b5, b6 (api).\n- ap_south: b7 (web), b8, b9 (api).\n\nInitial state:\n- b1, b2, b3 are assigned to s1_us (s1_us is full).\n- b4 and b5 are assigned to s3_eu (one free slot).\n- b6 is unassigned.\n- b7 is assigned to s5_ap.\n- b8 and b9 are unassigned.\n- s4_eu and s6_ap are offline.\n\nGoal:\n- All buckets must be served in their correct regions by servers running the required service.\n- In the final state, each region must have exactly one online server:\n  - one in us_east,\n  - one in eu_west,\n  - one in ap_south.\n- You must consolidate traffic per region and decide which server to keep in each region, possibly powering on an offline server and shutting down another.\n- No server may ever host more than 3 buckets.\n\nProduce a valid plan of primitive actions that performs the necessary autoscaling and traffic moves so that each region ends up with a single appropriately configured server handling all of its web and api traffic.",
      "overview": {
        "description": "Consolidate traffic so each region ends with exactly one online server that runs required services, assigning all buckets correctly without exceeding capacity.",
        "initial_state": "us_east: s1_us online runs web+api full with b1,b2,b3; s2_us online runs web only. eu_west: s3_eu online runs web+api with b4,b5; s4_eu offline. ap_south: s5_ap online runs web only with b7; s6_ap offline. b6,b8,b9 unassigned.",
        "goal": "All buckets served in correct region by servers running required service; final state has exactly one online server per region; no server ever hosts >3 buckets."
      },
      "objects": [
        { "name": "us_east", "kind": "region", "summary": "US East region.", "attributes": {} },
        { "name": "eu_west", "kind": "region", "summary": "EU West region.", "attributes": {} },
        { "name": "ap_south", "kind": "region", "summary": "AP South region.", "attributes": {} },
        { "name": "web", "kind": "service", "summary": "Web service.", "attributes": {} },
        { "name": "api", "kind": "service", "summary": "API service.", "attributes": {} },
        { "name": "s1_us", "kind": "server", "summary": "us_east server running web+api.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["web", "api"] } },
        { "name": "s2_us", "kind": "server", "summary": "us_east server running web only.", "attributes": { "region": "us_east", "capacity": 3, "initial_online": true, "initial_services": ["web"] } },
        { "name": "s3_eu", "kind": "server", "summary": "eu_west server running web+api.", "attributes": { "region": "eu_west", "capacity": 3, "initial_online": true, "initial_services": ["web", "api"] } },
        { "name": "s4_eu", "kind": "server", "summary": "eu_west offline server (may be powered on/configured).", "attributes": { "region": "eu_west", "capacity": 3, "initial_online": false, "initial_services": [] } },
        { "name": "s5_ap", "kind": "server", "summary": "ap_south server running web only.", "attributes": { "region": "ap_south", "capacity": 3, "initial_online": true, "initial_services": ["web"] } },
        { "name": "s6_ap", "kind": "server", "summary": "ap_south offline server (may be powered on/configured).", "attributes": { "region": "ap_south", "capacity": 3, "initial_online": false, "initial_services": [] } },
        { "name": "b1", "kind": "bucket", "summary": "us_east web bucket b1.", "attributes": { "region": "us_east", "requires_service": "web", "initial_assignment": "s1_us" } },
        { "name": "b2", "kind": "bucket", "summary": "us_east web bucket b2.", "attributes": { "region": "us_east", "requires_service": "web", "initial_assignment": "s1_us" } },
        { "name": "b3", "kind": "bucket", "summary": "us_east api bucket b3.", "attributes": { "region": "us_east", "requires_service": "api", "initial_assignment": "s1_us" } },
        { "name": "b4", "kind": "bucket", "summary": "eu_west web bucket b4.", "attributes": { "region": "eu_west", "requires_service": "web", "initial_assignment": "s3_eu" } },
        { "name": "b5", "kind": "bucket", "summary": "eu_west api bucket b5.", "attributes": { "region": "eu_west", "requires_service": "api", "initial_assignment": "s3_eu" } },
        { "name": "b6", "kind": "bucket", "summary": "eu_west api bucket b6.", "attributes": { "region": "eu_west", "requires_service": "api", "initial_assignment": "unassigned" } },
        { "name": "b7", "kind": "bucket", "summary": "ap_south web bucket b7.", "attributes": { "region": "ap_south", "requires_service": "web", "initial_assignment": "s5_ap" } },
        { "name": "b8", "kind": "bucket", "summary": "ap_south api bucket b8.", "attributes": { "region": "ap_south", "requires_service": "api", "initial_assignment": "unassigned" } },
        { "name": "b9", "kind": "bucket", "summary": "ap_south api bucket b9.", "attributes": { "region": "ap_south", "requires_service": "api", "initial_assignment": "unassigned" } }
      ],
      "optimal_cost": 5,
      "difficulty": "Hard"
    }
  ]
}
